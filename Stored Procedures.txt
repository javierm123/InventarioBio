---------Catalogo------------------------


--Delete--
 `sp_catalogo_delete`(in padre int)
BEGIN
	DELETE FROM catalogo  WHERE `cat_id` = padre;
		SELECT 'BORRADO';
END

--Insert--
`sp_catalogo_insert`(in nombre varchar(100),in des varchar(200),in padre int,in codigo varchar(200))
BEGIN
declare sig int;
  IF exists (SELECT * FROM CATALOGO WHERE CAT_NOMBRE=nombre and cat_padre=padre) then
     select 1;
  else   
	   select max(cat_id) into sig from catalogo; 
        set sig=sig+1;
       INSERT INTO catalogo (`cat_id`,`cat_nombre`,`cat_descripcion`,
		`cat_padre`,`cat_codigo`)
	   VALUES (sig,nombre,des,padre,codigo);
       select 0;
       end if;
END

--Select--

 `sp_catalogo_select`(in padre int)
BEGIN
	SELECT * FROM catalogo where cat_padre=padre;
END

--Update--

sp_catalogo_update`(in op int,in nombre varchar(100),in des varchar(200),in padre int,in codigo varchar(200))
BEGIN
UPDATE catalogo SET
	`cat_nombre` = nombre,
	`cat_descripcion` = des,
    `cat_codigo` = codigo
     WHERE `cat_id` = padre;
     SELECT * FROM CATALOGO WHERE  `cat_id` = padre;
END

---------Detalle------------------------

--Delete--

 `sp_detalle_delete`(in id int)
BEGIN
	DELETE FROM detalle  WHERE `det_id` = id;
		SELECT 'BORRADO';
END

--Insert--

`sp_detalle_insert`(in nombre int,in cantidad int ,in fecha date,in cedula int ,in estado int)
BEGIN
declare sig int;
	   select max(det_id) into sig from detalle; 
        set sig=sig+1;
       INSERT INTO detalle (`det_id`,`cat_id`,`det_cantidad`,
		`det_fechacad`,`don_cedula`,`cat_id_estado`)
	   VALUES (sig,nombre,cantidad,fecha,cedula,estado);
END

--Select--

`sp_detalle_select`(in id int)
BEGIN
	SELECT * FROM detalle where det_id=id;
END

--Update--

`sp_detalle_update`(in id int, in nombre int,in cantidad int,in fecha date,in cedula int,in estado int)
BEGIN
UPDATE detalle SET
	`cat_id` = nombre,
	`det_cantidad` = cantidad,
    `det_fechacad` = fecha,
    `don_cedula` = cedula,
    `cat_id_estado` = estado
     WHERE `det_id` = id;
     SELECT * FROM detalle WHERE  `det_id` = id;
END


---------Detalle-Usos------------------------

--Delete--

 `sp_detalle_usos_delete`(in id int)
BEGIN
	DELETE FROM detalle_usos  WHERE `usos_uso_id` = id;
		SELECT 'BORRADO';

END
--Insert--

`sp_detalle_usos_insert`(in detalle_ID int,in uso_ID int)
BEGIN
       INSERT INTO detalle_usos (`detalle_det_id `,`usos_uso_id`)
	   VALUES (detalle_ID,uso_ID);
END

--Select--


`sp_detalle_usos_select`(in detalle_id int,in usos_id int)
BEGIN
	SELECT * FROM detalle_usos where  detalle_det_id = detalle_id and usos_uso_id = usos_id;
END

--Update--

`sp_detalle_usos_update`(in detalle_id int, in usos_id int)
BEGIN
UPDATE detalle_usos SET
	`detalle_det_id` = detalle_id,
	`usos_uso_id` = usos_id
     WHERE `detalle_det_id` = detalle_id and `usos_uso_id` = usos_id;
     SELECT * FROM detalle_usos WHERE  `detalle_det_id` = detalle_id and `usos_uso_id` = usos_id;
END

---------Donaciones------------------------

--Delete--

`sp_donaciones_delete`(in id int)
BEGIN
	DELETE FROM donaciones  WHERE `don_cedula` = id;
		SELECT 'BORRADO';
END

--Insert--

`sp_donaciones_insert`(in cedula int,in nombre varchar(100),in telefono int,in correo varchar(100) ,in direccion varchar(100),in fecha date)
BEGIN
       INSERT INTO donaciones (`don_cedula`,`don_nombre`,`don_telefono`,
		`don_correo`,`don_direccion`,`don_fecha`)
	   VALUES (cedula,nombre,telefono,correo,direccion,fecha);
END


--Select--

`sp_donaciones_select`(in id int)
BEGIN
	SELECT * FROM donaciones where don_cedula=id;
END

--Update--

`sp_donaciones_update`(in cedula int,in nombre varchar(100),in telefono int,in correo varchar(100) ,in direccion varchar(100),in fecha date)
BEGIN
UPDATE donaciones SET
	`don_cedeula` = cedula,
	`don_nombre` = nombre,
    `don_telefono` = telefono,
    `don_correo` = correo,
    `don_direccion` = direccion,
    `don_fecha` = fecha
     WHERE `don_cedula` = cedula;
     SELECT * FROM donaciones WHERE  `don_cedula` =cedula;
END

---------Usos------------------------

--Delete--

`sp_usos_delete`(in id int)
BEGIN
	DELETE FROM usos  WHERE `uso_id` = id;
		SELECT 'BORRADO';
END

--Insert--

`sp_usos_insert`(in cantidad int,in descripcion varchar(200),in cedula int)
BEGIN
       declare sig int;
	   select max(uso_id) into sig from usos; 
        set sig=sig+1;
       INSERT INTO usos (`uso_id`,`uso_cantidad`,`uso_descripcion`,
		`usu_cedula`)
	   VALUES (sig,cantidad,descripcion,cedula);
END

--Select--

`sp_usos_select`(in id int)
BEGIN
	SELECT * FROM usos where uso_id=id;
END

--Update--

`sp_usos_update`(in id int,in cantidad int,in descripcion varchar(200),in cedula int)
BEGIN
UPDATE usos SET
	`uso_cantidad` = cantidad,
	`uso_descripcion` = descripcion,
    `usu_cedula` = cedula
     WHERE `uso_id` = id;
     SELECT * FROM usos WHERE  `uso_id` = id;
END

---------Usos------------------------

--Delete--

`sp_usuarios_delete`(in id int)
BEGIN
	DELETE FROM usuarios  WHERE `usu_cedula` = id;
		SELECT 'BORRADO';
END

--Insert--

`sp_usuarios_insert`(in cedula int,in nombre varchar(50) ,in apellido varchar(50),in telefono varchar(10) ,in usuario varchar(45),in contraseña varchar(45))
BEGIN
       INSERT INTO usuarios (`usu_cedula`,`usu_nombre`,`usu_apellido`,
		`usu_telefono`,`usu_usuario`,`usu_contraseña`)
	   VALUES (cedula,nombre,apellido,telefono,usuario,contraseña);
END

--Select--

`sp_usuarios_select`(in id int)
BEGIN
	SELECT * FROM usuarios where usu_cedula=id;
END


--Update--

`sp_usuarios_update`(in cedula int,in nombre varchar(50) ,in apellido varchar(50),in telefono varchar(10) ,in usuario varchar(45),in contraseña varchar(45))
BEGIN
UPDATE usuarios SET
	`usu_cedula` = cedula,
	`usu_nombre` = nombre,
    `usu_apellido` = apellido,
    `usu_telefono` = telefono,
    `usu_usuario` = usuario,
    `usu_contraseña` = contraseña
     WHERE `usu_cedula` = cedula;
     SELECT * FROM usuarios WHERE  `usu_cedula` = cedula;
END
